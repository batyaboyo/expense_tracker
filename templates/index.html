<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bank Resource Scheduler</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <header>
        <div class="container header-container">
            <h1>Bank Resource Scheduler</h1>
            <div class="clock" id="clock">Loading...</div>
        </div>
    </header>
    
    <div class="container">
        <div class="controls">
            <button id="start-btn" class="btn">Start Simulation</button>
            <button id="pause-btn" class="btn btn-secondary">Pause</button>
            <button id="reset-btn" class="btn btn-secondary">Reset</button>
            
            <div class="form-group">
                <label for="algorithm">Scheduling Algorithm:</label>
                <select id="algorithm">
                    <option value="round-robin">Round Robin</option>
                    <option value="priority">Priority Based</option>
                    <option value="sjn">Shortest Job Next</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="arrival-rate">Customer Arrival Rate (seconds):</label>
                <input type="number" id="arrival-rate" min="1" max="60" value="10">
            </div>
        </div>
        
        <div class="dashboard">
            <div class="card">
                <h3>Performance Metrics</h3>
                <div class="metric">
                    <span>Avg. Wait Time:</span>
                    <span class="metric-value" id="avg-wait-time">0:00</span>
                </div>
                <div class="metric">
                    <span>Max Wait Time:</span>
                    <span class="metric-value" id="max-wait-time">0:00</span>
                </div>
                <div class="metric">
                    <span>Agent Utilization:</span>
                    <span class="metric-value" id="agent-utilization">0%</span>
                </div>
                <div class="metric">
                    <span>Queue Length:</span>
                    <span class="metric-value" id="queue-length">0</span>
                </div>
                <div class="metric">
                    <span>Customers Served:</span>
                    <span class="metric-value" id="customers-served">0</span>
                </div>
            </div>
            
            <div class="card">
                <h3>System Status</h3>
                <div class="metric">
                    <span>Active Agents:</span>
                    <span class="metric-value" id="active-agents">0</span>
                </div>
                <div class="metric">
                    <span>Waiting Customers:</span>
                    <span class="metric-value" id="waiting-customers">0</span>
                </div>
                <div class="metric">
                    <span>System Load:</span>
                    <div style="flex-grow: 1; margin-left: 10px;">
                        <div class="progress-bar">
                            <div class="progress" id="system-load-progress" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
                <div class="metric">
                    <span>Fairness Index:</span>
                    <span class="metric-value" id="fairness-index">1.0</span>
                </div>
            </div>
        </div>
        
        <div class="tabs">
            <div class="tab active" data-tab="agents">Agents</div>
            <div class="tab" data-tab="customers">Customers</div>
            <div class="tab" data-tab="queue">Queue Visualization</div>
        </div>
        
        <div class="tab-content active" id="agents-tab">
            <div class="card">
                <h3>Agent Status (Refreshes every 5 seconds)</h3>
                <div class="form-group">
                    <label for="agent-count">Number of Agents:</label>
                    <input type="number" id="agent-count" min="1" max="20" value="5">
                    <button id="update-agents-btn" class="btn">Update</button>
                </div>
                <div class="agent-grid" id="agent-grid">
                    <!-- Agent cards will be dynamically added here -->
                </div>
            </div>
        </div>
        
        <div class="tab-content" id="customers-tab">
            <div class="card">
                <h3>Customer Queue</h3>
                <div class="customer-grid" id="customer-grid">
                    <!-- Customer cards will be dynamically added here -->
                </div>
            </div>
        </div>
        
        <div class="tab-content" id="queue-tab">
            <div class="card">
                <h3>Queue Visualization</h3>
                <div id="queue-visualization">
                    <!-- Queue visualization will be displayed here -->
                </div>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
